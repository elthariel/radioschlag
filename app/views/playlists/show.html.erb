<% title "Playlist : #{@playlist.name}" %>

<p>
  <strong>Nom:</strong>
  <%=h @playlist.name %>
</p>
<p>
  <strong>Description:</strong>
  <%=h @playlist.desc %>
</p>
<p>
  <strong>Type de playlist:</strong>
  <%=h @playlist.playlist_type.name %>
</p>
<p>
  <strong>Mode de lecture:</strong>
  <%=h @playlist.playlist_player.name %>
</p>
<p>
  <ul id="audio_files_list"> <strong>Fichiers dans la playlist :</strong>
  <% for f in @playlist.audio_files %>
  <% content_tag_for :li, f do %>
    <span class="handle">[deplacer]</span>
    <%= link_to_remote("Supprimer", :url => {:action => :remove_file, :playlist_id => @playlist.id, :id => "audio_file_#{f.id}"},
                       :)%>
    <%= h f.audio_file_type.name %> ::
    <%= h f.audio_file_style.name %> ::
    <%= h f.path %></li>
    <% @playlist.audio_file_assignments.find(:first,
       :conditions => {:playlist_id => @playlist.id, :audio_file_id => f.id}).move_to_bottom %>
  <% end %>
  <% end %>
  <ul>
</p>

<%= sortable_element('audio_files_list', :handle => "handle",
:url => {:action => 'sort', :playlist_id => @playlist.id}) %>

<p>

</p>

<p>
  <%= link_to "Edition", edit_playlist_path(@playlist) %> |
  <%= link_to "Supprimer", @playlist, :confirm => 'Are you sure?', :method => :delete %> |
  <%= link_to "Retour a la liste des playlists", playlists_path %>
</p>
